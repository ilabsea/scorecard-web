%form{ action: '/scorecards', method: 'get' }
  = hidden_field_tag :filter, params[:filter]

  .d-flex.my-2
    -# %div.mr-2
    -# %div.d-none
    -#   %a.btn.advance-search{"aria-controls" => "collapseExample", "aria-expanded" => "false", "data-toggle" => "collapse", :href => "#collapseExample", :role => "button"}
    -#     = t('scorecard.advance_search')
    -#     %i.fas.fa-angle-down

  #add-filter{ style: "position: relative;" }
    .add-filter__saved_items_container.d-inline-block.mb-3
      -# build search stimulus?
    = link_to "+ Add filter", "#", id: "add-filter__link"
    #add-filter__modal{ style: "display: none; position: absolute; z-index: 1; min-width: 768px;" }
      .card
        %h5.card-header Edit filter
        .card-body
          
          .d-flex
            .form-group.w-75.mr-3
              %label{ for: "field" } Field
              %select.form-control#add-filter__field
                %option{ value: '' } please select
                %option{ value: 'uuid' } uuid
                %option{ value: 'start_date' } Conducted Date
                %option{ value: 'province_id' } Province

            .form-group.flex-grow-1{ style: "display: none", "data-field_attribute": "uuid" }
              %label{ for: "field" } Operator
              %select.form-control
                %option is
          
          .form-group{ style: "display: none", "data-field_attribute": "uuid" }
            %label{ for: "field" } Value
            = text_field_tag(nil, params[:uuid], class: 'form-control field-value', placeholder: t('scorecard.code'), id: 'scorecard_code')

          .form-group{ style: "display: none", "data-field_attribute": "start_date" }
            %label{ for: "field" } Value
            %input.field-value.form-control{ type: "date" }
          
          .form-group{ style: "display: none", "data-field_attribute": "province_id" }
            %label{ for: "field" } Value
            = select_tag :province_id, options_from_collection_for_select(Pumi::Province.all, :id, "name_#{I18n.locale}", params[:province_id]), class: 'form-control custom-select field-value', prompt: t("scorecard.any_province")

          .d-flex.justify-content-end
            %a.btn.btn-outline-secondary.add-filter__cancel.mr-3{:href => "#"} cancel
            %a.btn.btn-primary.add-filter__save{:href => "#"} save

    %button.btn.btn-light.m-3{type: :submit}
      %i.fas.fa-search
      = t('shared.search')

  -# #collapseExample.collapse
  -#   .d-flex.mb-2
  -#     = select_tag :province_id, options_from_collection_for_select(Pumi::Province.all, :id, "name_#{I18n.locale}", params[:province_id]), class: 'form-control custom-select filter-input', prompt: t("scorecard.any_province")

  -#     - if current_program.present?
  -#       = select_tag :year, options_for_select(current_program.scorecards.pluck(:year).uniq, params[:year]), class: 'form-control custom-select filter-input', prompt: t("scorecard.any_year")

  -#       = select_tag :facility_id, options_for_select(current_program.facilities.leaves.pluck("name_#{I18n.locale}", :id), params[:facility_id]), class: 'form-control custom-select filter-input', prompt: t("scorecard.any_facility")

  -#       = select_tag :local_ngo_id, options_for_select(current_program.local_ngos.pluck(:name, :id), params[:local_ngo_id]), class: 'form-control custom-select filter-input', prompt: t("scorecard.any_local_ngo")
