= render "shared/scorecard_setting_tab_nav"

.card.shadow.mb-4.facilities
  .card-body
    = render partial: "shared/no_data", locals: { items: @templates, url: new_template_path, label: t('template.add_new') }

    - if @templates.present?
      = render "shared/pagination_title", objects: @templates, url: new_template_path, label: t('template.add_new'), hide_pagy: true

      %table.table.table-hover.pretty
        %thead
          %tr
            %th #
            %th= sortable "name", t("shared.name")
            %th= sortable "created_at", t("shared.created_at")
            %th= sortable "updated_at", t("shared.updated_at")
            %th

        %tbody
          - @templates.each_with_index do |template, index|
            %tr
              %td= @pagy.from + index
              %td= link_to "#{template.name} (#{template.indicators.length})", edit_template_path(template), class: "btn btn-link p-0"
              %td= timeago(template.created_at).html_safe
              %td= timeago(template.updated_at).html_safe
              %td.text-right
                = render 'shared/action_buttons', edit_url: edit_template_path(template), delete_url: template_path(template), object: template

    - if @pagy.pages > 1
      .pagy-wrapper.justify-content-md-end.justify-content-center
        != pagy_bootstrap_nav(@pagy)

= render "shared/modal_confirm"
